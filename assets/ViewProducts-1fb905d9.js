import{b as f,r as i,u as v,T as w,j as t,F as c,a,L as b,h as P}from"./index-29c6ebea.js";import{a as k,S as s}from"./index-ec3bfb26.js";import{D as x}from"./DefaultLayout-d466fc47.js";import{u as C}from"./useDispatch-8b85e73e.js";const $=()=>{const{id:o}=f(),[e,d]=i.useState({}),[l,r]=i.useState(!1),h=v();let m=localStorage.getItem("token");const g=C(),n=i.useContext(w);i.useEffect(()=>{m||h("/login"),(async()=>{r(!0);const N=(await k.get(`https://fakestoreapi.com/products/${o}`)).data;d(N),r(!1)})()},[]);const u=()=>t(c,{children:a("div",{className:"viewproducts-loading",children:[t("div",{className:"img col-md-6",children:t(s,{height:450,width:"100%"})}),a("div",{className:"details col-md-6",children:[t(s,{height:50,width:300}),t(s,{height:75}),t(s,{height:25,width:150}),t(s,{height:50,width:150}),t(s,{height:150}),a("div",{className:"btns",children:[t("button",{children:t(s,{height:40,width:100})}),t("button",{children:t(s,{height:40,width:100})})]})]})]})}),p=()=>{g(P.addCart(e))};return t(c,{children:t(x,{children:t("div",{className:"viewproduct-container",children:l?t(u,{}):t(()=>t(c,{children:a("div",{className:"main-viewproduct",style:{color:n.theme==="light"?null:"#FFF"},children:[t("div",{className:"product-img",children:t("img",{src:e.image,alt:""})}),a("div",{className:"details",children:[t("h4",{className:"category",children:e.category}),t("h1",{className:"title",children:e.title}),a("p",{className:"rating",children:["rating ",e.rating&&e.rating.rate," ",t("i",{className:"fa-solid fa-star"})]}),a("h3",{className:"price",children:["$ ",e.price]}),t("p",{className:"desc",children:e.description}),a("div",{className:"btns",children:[t("button",{className:"btn btn-dark",onClick:p,children:"Add to Cart"}),t(b,{className:`ms-2 ${n.theme==="light"?"btn btn-outline-dark":"btn btn-outline-light"}`,to:"/cart",children:"Go to Cart"})]})]})]})}),{})})})})};export{$ as default};
